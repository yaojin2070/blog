exports.ids=[8],exports.modules={119:function(e,t,o){var content=o(149);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var n=o(4).default;e.exports.__inject__=function(e){n("4b5b70c4",content,!0,e)}},127:function(e,t,o){"use strict";o.d(t,"a",(function(){return r}));let n="";const r={tieba:{name:"贴吧表情",path:(n="https://img.yjdzm.com/")+"tieba/",file:".png",alias:{1:"zhenbang",2:"huaji",3:"aixin",4:"guai",5:"dakaixin",6:"haha",7:"han",8:"hauxin",9:"hehe",10:"heixian",11:"hu",12:"jingku",13:"jingya",14:"kaixin",15:"ku",16:"kuanghan",17:"lei",18:"leng",19:"meigui",20:"mianqiang",21:"nu",22:"ok",23:"pen",24:"qian",25:"qianbi",26:"qishi",27:"ruo",28:"shengli",29:"shengqi",30:"shuijiao",31:"tu",32:"tushe",33:"weiqu",34:"xiaolian",35:"xinsui",36:"yi",37:"yinlian",38:"yiwen",39:"zhangzui"}},wendao:{name:"问道表情",path:n+"wendao/",file:".gif",alias:{1:"xianghcang",2:"bingleng",3:"cahan",4:"chaohuo",5:"coffee",6:"dajing",7:"daxiao",8:"fanduini",9:"feiwen",10:"gongao",11:"guzhang",12:"haixiu",13:"hezuo",14:"hiapaya",15:"huankuai",16:"koushui",17:"kuaiqule",18:"lainhong",19:"leishui",20:"liangyan",21:"lianxi",22:"liuhan",23:"meigui",24:"nidong",25:"nidongde",26:"paizhuozi",27:"pibei",28:"nani",29:"qiaoda",30:"qichuai",31:"sahnfeng",32:"shuijiao",33:"time",34:"touxiang",35:"touxiao",36:"tule",37:"weiqu",38:"xiaoxihuan",39:"yachixiao",40:"yansu",41:"yaoyan",42:"yiwen",43:"yuanzui",44:"yun",45:"zhichini"}},wendaovip:{name:"问道Vip表情",path:n+"wendaovip/",file:".gif",alias:{1:"dahaipa",2:"danu",3:"dawenhao",4:"fandi",5:"fendou",6:"gan",7:"guangao",8:"guilian",9:"haipa",10:"hongbao",11:"jianxiao",12:"jier",13:"jingdai",14:"jingya",15:"kanxi",16:"kelian",17:"kule",18:"mojing",19:"paiban",20:"qishi",21:"qiwang",22:"shengqi",23:"shijian",24:"shoucuo",25:"shuai",26:"tanqi",27:"tiaodou",28:"tu",29:"wunai",30:"wuyu",31:"xihuan",32:"yuanbao",33:"zan",34:"zhichi",35:"zhijin"}}}},148:function(e,t,o){"use strict";o.r(t);var n=o(119),r=o.n(n);for(var c in n)"default"!==c&&function(e){o.d(t,e,(function(){return n[e]}))}(c);t.default=r.a},149:function(e,t,o){(e.exports=o(3)(!1)).push([e.i,".expression-box[data-v-7e3ba14c]{position:relative;cursor:pointer}.expression-box .expression-select[data-v-7e3ba14c]{padding:1rem;position:absolute;top:40px;left:-30px;z-index:1;bottom:0;width:280px;height:250px;border-radius:2px;background-color:#fff;box-shadow:0 5px 18px 0 rgba(0,0,0,.16)}.expression-box .expression-select .triangle[data-v-7e3ba14c]{position:absolute;top:-.7rem;left:15%;width:0;height:0;transform:translate(-50%,-50%);border:.8rem solid transparent;border-bottom-color:#fff}.expression-box .expression-select .expression-content[data-v-7e3ba14c]{overflow:auto;margin-bottom:10px}.expression-box .expression-select .expression-content .expression-picker .expressions .category[data-v-7e3ba14c]{max-width:280px;max-height:225px;display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-start}.expression-box .expression-select .expression-content .expression-picker .expressions .category .item[data-v-7e3ba14c]{font-size:1.4rem;padding:5px 4.5px;cursor:pointer}.expression-box .expression-select .expression-content .expression-picker .expressions .category .item img[data-v-7e3ba14c]{width:22px;height:22px;display:block}.expression-box .expression-select .expression-content .expression-picker .expressions .category .item img[data-v-7e3ba14c]:hover{transform:scale(1.2)}.expression-box .expression-select .otherPage[data-v-7e3ba14c]{width:100%;position:absolute;display:flex;justify-content:center;align-items:center;bottom:10px;left:50%;transform:translate(-50%,-50%)}.expression-box .expression-select .otherPage .pageItem[data-v-7e3ba14c]{margin:0 5px;width:6px;height:6px;border-radius:100%;background-color:#f0f0f0;cursor:pointer;list-style:none}.expression-box .expression-select .otherPage .pageItem.active[data-v-7e3ba14c]{background-color:#d8d8d8}",""])},164:function(e,t,o){var content=o(214);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var n=o(4).default;e.exports.__inject__=function(e){n("4f2341c0",content,!0,e)}},165:function(e,t,o){var content=o(216);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var n=o(4).default;e.exports.__inject__=function(e){n("034c3c4e",content,!0,e)}},166:function(e,t,o){var content=o(218);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var n=o(4).default;e.exports.__inject__=function(e){n("3fe344b3",content,!0,e)}},167:function(e,t,o){var content=o(220);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var n=o(4).default;e.exports.__inject__=function(e){n("65ff8d1e",content,!0,e)}},168:function(e,t,o){var content=o(222);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var n=o(4).default;e.exports.__inject__=function(e){n("befc9464",content,!0,e)}},176:function(e,t,o){"use strict";var n=o(127),r={data:()=>({expressionUrl:n.a,imgPathName:"tieba"}),props:{expressionSelect:[Boolean],isShowAcitonBox:[Boolean],changeShow:[Function],addExpressions:[Function]},methods:{HandleshowExpressionsBox(e){this.$refs.expressionBox&&(this.$refs.expressionBox.contains(e.target)||this.changeShow(!1))},changeImgList(e){this.imgPathName=e}},mounted(){document.documentElement.addEventListener("click",this.HandleshowExpressionsBox,!1)},destroyed(){document.documentElement.removeEventListener("click",this.HandleshowExpressionsBox,!1)}},c=o(2);var component=Object(c.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"expressionBox",staticClass:"expression-box"},[o("Icon",{attrs:{type:"md-happy",size:"20"},on:{click:function(t){return e.changeShow(!e.expressionSelect)}}}),e._ssrNode(" "+(e.expressionSelect?'<div class="expression-select" data-v-7e3ba14c><div class="triangle" data-v-7e3ba14c></div> <div class="expression-content" data-v-7e3ba14c><div class="expression-picker" data-v-7e3ba14c><div class="expressions" data-v-7e3ba14c><ul class="category" data-v-7e3ba14c>'+e._ssrList(e.expressionUrl[e.imgPathName].alias,(function(t,o){return'<li class="item" data-v-7e3ba14c><img'+e._ssrAttr("src",e.expressionUrl[e.imgPathName].path+t+e.expressionUrl[e.imgPathName].file)+" data-v-7e3ba14c></li>"}))+'</ul></div></div></div> <div class="otherPage" data-v-7e3ba14c><li'+e._ssrClass("pageItem",{active:"tieba"===this.imgPathName})+" data-v-7e3ba14c></li> <li"+e._ssrClass("pageItem",{active:"wendao"===this.imgPathName})+" data-v-7e3ba14c></li> <li"+e._ssrClass("pageItem",{active:"wendaovip"===this.imgPathName})+" data-v-7e3ba14c></li></div></div>":"\x3c!----\x3e"))],2)}),[],!1,(function(e){var t=o(148);t.__inject__&&t.__inject__(e)}),"7e3ba14c","0aef9177");t.a=component.exports},213:function(e,t,o){"use strict";o.r(t);var n=o(164),r=o.n(n);for(var c in n)"default"!==c&&function(e){o.d(t,e,(function(){return n[e]}))}(c);t.default=r.a},214:function(e,t,o){(e.exports=o(3)(!1)).push([e.i,".comment-form[data-v-8658617c]{margin:18px 0;display:flex;position:relative;padding:1rem 1.333rem;background-color:#fafbfc;border-radius:3px}.comment-form.focused .input-box[data-v-8658617c]{border-color:#e2e6ea;box-shadow:0 0 0 1px #e2e6ea}.comment-form .avatar-box[data-v-8658617c]{flex:0 0 auto}.comment-form .avatar-box .avatar[data-v-8658617c]{margin:0 1rem 0 0;width:2.667rem;height:2.667rem;display:inline-block;border-radius:50%;position:relative;background-position:50%;background-size:cover!important;background-repeat:no-repeat!important;background-color:#eee!important}.comment-form .form-box[data-v-8658617c]{flex:1 1 auto;position:relative}.comment-form .form-box .input-box[data-v-8658617c]{font-size:0;background-color:#fff;border:1px solid #e2e6ea;border-radius:3px}.comment-form .form-box .input-box .auth-card[data-v-8658617c]{position:relative}.comment-form .form-box .input-box .auth-card .rich-input[data-v-8658617c]{position:relative;padding:.6rem 1rem;font-size:14px;line-height:1.7;color:#17181a;outline:none;min-height:1.3em}.comment-form .form-box .input-box .auth-card .rich-input[data-v-8658617c]  img{max-width:40px;max-height:40px}.comment-form .form-box .action-box[data-v-8658617c]{display:flex;align-items:center;margin:.65rem 0 0}.comment-form .form-box .action-box .expression-box[data-v-8658617c]{position:relative;cursor:pointer}.comment-form .form-box .action-box .submit[data-v-8658617c]{flex:0 0 auto;margin-left:auto}",""])},215:function(e,t,o){"use strict";o.r(t);var n=o(165),r=o.n(n);for(var c in n)"default"!==c&&function(e){o.d(t,e,(function(){return n[e]}))}(c);t.default=r.a},216:function(e,t,o){(e.exports=o(3)(!1)).push([e.i,".comment-list[data-v-6b31e8ba]{margin:0 1.666rem 0 4.85rem}.comment-list .item[data-v-6b31e8ba]{margin-bottom:1.333rem}.comment-list .item .comment[data-v-6b31e8ba]{display:flex}.comment-list .item .comment .user-avatar[data-v-6b31e8ba]{width:40px;height:40px;display:inline}.comment-list .item .comment .user-avatar a[data-v-6b31e8ba]{text-decoration:none;cursor:pointer;color:#909090;flex:0 0 auto;width:100%;display:inline-block;height:100%}.comment-list .item .comment .user-avatar a div[data-v-6b31e8ba]{margin:0 1rem 0 0;width:40px;height:40px;display:inline-block;border-radius:50%;position:relative;background-position:50%;background-size:cover!important;background-repeat:no-repeat!important;background-color:#eee!important}.comment-list .item .comment .content-box[data-v-6b31e8ba]{margin-left:.833rem;flex:1 1 auto;border-bottom:1px solid #f1f1f1}.comment-list .item .comment .content-box:hover .reply .time .deleteBtn[data-v-6b31e8ba]{display:inline-block}.comment-list .item .comment .content-box:hover .reply .action-box .reply-box[data-v-6b31e8ba]{display:block}.comment-list .item .comment .content-box .meta-box[data-v-6b31e8ba]{display:flex;align-items:center;font-size:16px;line-height:1.2;white-space:nowrap;margin-top:5px}.comment-list .item .comment .content-box .content[data-v-6b31e8ba]{margin-top:.55rem;font-size:16px;line-height:1.833rem;word-wrap:break-word;white-space:pre-wrap;word-break:break-all;color:#505050}.comment-list .item .comment .content-box .content[data-v-6b31e8ba]  img{max-width:40px;max-height:40px}.comment-list .item .comment .content-box .reply[data-v-6b31e8ba]{display:flex;margin:5px 0 8px;justify-content:space-between;align-items:center}.comment-list .item .comment .content-box .reply .time[data-v-6b31e8ba]{font-size:13px;color:#8a9aa9;cursor:default}.comment-list .item .comment .content-box .reply .action-box[data-v-6b31e8ba]{display:flex;align-items:center;cursor:pointer;font-size:13px;color:#8a93a0}.comment-list .item .comment .content-box .reply .action-box .reply-box[data-v-6b31e8ba]{display:none}.comment-list .item .comment .content-box .reply .action-box .reply-num-box[data-v-6b31e8ba]{margin-left:15px}.comment-list .item .comment .content-box .reply .action-box .reply-box[data-v-6b31e8ba]:hover,.comment-list .item .comment .content-box .reply .action-box .reply-num-box[data-v-6b31e8ba]:hover{display:block;opacity:.8}.comment-list .item .comment .content-box .reply .action-box span[data-v-6b31e8ba]{margin-left:5px}.comment-list .item .comment .content-box .sub-comment-list[data-v-6b31e8ba]{margin:1rem 0;padding:0 0 0 1rem;background-color:#fafbfc;border-radius:3px}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment[data-v-6b31e8ba]{position:relative;padding:1rem 0 0}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row[data-v-6b31e8ba]{display:flex;align-items:flex-start}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row[data-v-6b31e8ba],.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box[data-v-6b31e8ba]{display:flex;width:100%}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-avatar[data-v-6b31e8ba]{width:35px;height:35px}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-avatar a[data-v-6b31e8ba]{text-decoration:none;cursor:pointer;color:#909090;flex:0 0 auto;width:100%;display:inline-block;height:100%}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-avatar a div[data-v-6b31e8ba]{margin:0 1rem 0 0;width:35px;height:35px;display:inline-block;border-radius:50%;position:relative;background-position:50%;background-size:cover!important;background-repeat:no-repeat!important;background-color:#eee!important}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box[data-v-6b31e8ba]{margin-left:.833rem;margin-right:1rem;padding-bottom:12px;font-size:1.083rem;color:#17181a;width:100%;border-bottom:1px solid #f1f1f1}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box:hover .sub-user-reply-box .sub-time .deleteBtn[data-v-6b31e8ba]{display:inline-block}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box:hover .sub-user-reply-box .sub-action-box[data-v-6b31e8ba]{opacity:1}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box .sub-user-name[data-v-6b31e8ba]{display:flex;align-items:center;font-size:16px;line-height:1.2;white-space:nowrap;margin-top:5px}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box .sub-user-content[data-v-6b31e8ba]{display:inline-block;margin-top:.5rem}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box .sub-user-content .sub-user-conetent-reply-text[data-v-6b31e8ba]{color:#17181a;font-size:13px}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box .sub-user-content .replyUserName[data-v-6b31e8ba]{display:inline-block}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box .sub-user-content .replyUserName a[data-v-6b31e8ba]{color:#406599;font-size:14px}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box .sub-user-content .replyContent[data-v-6b31e8ba]{white-space:pre-wrap;color:#505050;line-height:1.833rem}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box .sub-user-content .replyContent[data-v-6b31e8ba]  img{max-width:40px;max-height:40px}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box .sub-user-reply-box[data-v-6b31e8ba]{display:flex;margin-top:7px;font-size:13px;color:#8a93a0;justify-content:space-between}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box .sub-user-reply-box .sub-time[data-v-6b31e8ba]{font-size:12px;color:#8a93a0}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box .sub-user-reply-box .sub-action-box[data-v-6b31e8ba]{opacity:0;flex:0 0 auto;display:flex;font-size:12px;color:#8a93a0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;align-items:center;cursor:pointer}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box .sub-user-reply-box .sub-action-box[data-v-6b31e8ba]:hover{opacity:.8}.comment-list .item .comment .content-box .sub-comment-list .item .sub-comment .sub-comment-row .sub-comment-content-row .sub-comment-content-box .sub-user-content-box .sub-user-reply-box .sub-action-box span[data-v-6b31e8ba]{margin-left:5px}.comment-list .item .comment .content-box .sub-comment-list .more[data-v-6b31e8ba]{font-size:14px;width:100%;display:block;text-align:center;padding-bottom:15px;cursor:pointer}.author[data-v-6b31e8ba]{display:inline-block;padding:1px 6px;font-size:12px;text-align:center;background-color:#ff5722;color:#fff;border-radius:2px;margin-left:5px}.deleteBtn[data-v-6b31e8ba]{display:none;font-size:12px;margin-left:10px;cursor:pointer}.deleteBtn[data-v-6b31e8ba]:hover{opacity:.8}",""])},217:function(e,t,o){"use strict";o.r(t);var n=o(166),r=o.n(n);for(var c in n)"default"!==c&&function(e){o.d(t,e,(function(){return n[e]}))}(c);t.default=r.a},218:function(e,t,o){(e.exports=o(3)(!1)).push([e.i,".commentWrap .noUser[data-v-e1acfef8]{margin:20px}.commentWrap .noUser .comment-clear[data-v-e1acfef8]{width:100%;height:86px;padding:22px 30px;background-color:#fafbfc;border:1px solid #e2e6ea;box-sizing:border-box}.commentWrap .noUser .comment-clear p[data-v-e1acfef8]{float:left;font-size:16px;color:#000;line-height:40px}.commentWrap .noUser .comment-clear .login-btn[data-v-e1acfef8]{float:right;display:inline-block;line-height:20px;letter-spacing:1px;font-size:15px;text-align:center;white-space:nowrap;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:rgba(0,0,0,.65);background-color:#fff;border:1px solid #e2e6ea;width:100px;padding:10px 0;border-radius:5px}.commentWrap .noUser .comment-clear .login-btn[data-v-e1acfef8]:hover{background-color:#e2e6ea}.commentWrap .noUser .comment-clear img[data-v-e1acfef8]{width:40px;height:40px;margin-left:10px;border-radius:50%}.commentWrap .loading[data-v-e1acfef8],.commentWrap .noCommentBox[data-v-e1acfef8]{text-align:center}.commentWrap .more[data-v-e1acfef8]{font-size:14px;width:100%;display:block;text-align:center;cursor:pointer}.commentWrap .more[data-v-e1acfef8]:hover{opacity:.8}",""])},219:function(e,t,o){"use strict";o.r(t);var n=o(167),r=o.n(n);for(var c in n)"default"!==c&&function(e){o.d(t,e,(function(){return n[e]}))}(c);t.default=r.a},220:function(e,t,o){(e.exports=o(3)(!1)).push([e.i,'.item[data-v-51fd6eec]{margin:0;list-style:none;color:#333;padding:5px 0}.item a[data-v-51fd6eec]{display:block;position:relative;padding:0 0 0 12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:inherit;text-decoration:none;cursor:pointer;border-radius:6px;font-size:13px}.item a[data-v-51fd6eec]:before{content:"";position:absolute;top:50%;left:0;margin-top:-2px;width:4px;height:4px;background-color:currentColor;border-radius:50%}.item.d1[data-v-51fd6eec]{color:#000}.item.d1>a[data-v-51fd6eec]{padding:0 0 0 21px}.item.d1>a[data-v-51fd6eec]:before{left:5px;margin-top:-3px;width:6px;height:6px}.item.d1>a:hover>a[data-v-51fd6eec]{color:#007fff}.item.d2 a[data-v-51fd6eec]{padding-left:36px}.item.d2 a[data-v-51fd6eec]:before{left:24px}.item.d2:hover>a[data-v-51fd6eec]{color:#007fff}.item.d3 a[data-v-51fd6eec]{padding-left:51px;margin:4px 0}.item.d3 a[data-v-51fd6eec]:before{left:39px}.item.d3:hover>a[data-v-51fd6eec]{color:#007fff}.item .sub-list[data-v-51fd6eec]{margin:0;padding:0;color:#000}.item.active>a[data-v-51fd6eec]{color:#007fff}',""])},221:function(e,t,o){"use strict";o.r(t);var n=o(168),r=o.n(n);for(var c in n)"default"!==c&&function(e){o.d(t,e,(function(){return n[e]}))}(c);t.default=r.a},222:function(e,t,o){(e.exports=o(3)(!1)).push([e.i,'.pageWrap[data-v-0d20d4b5]{position:relative;margin:40px;display:block;height:auto}.pageWrap[data-v-0d20d4b5],.pageWrap .articleSkeleton[data-v-0d20d4b5]{float:left}.pageWrap .articleSkeleton .acticle-panel[data-v-0d20d4b5]{position:fixed;top:130px;margin-left:40px}.pageWrap .articleSkeleton .acticle-panel .like[data-v-0d20d4b5]{background-image:url(https://img.yjdzm.com/zan.b4bb964.svg);background-position:53% 46%;-webkit-animation:tada_4891-data-v-0d20d4b5 3.6s linear infinite;animation:tada_4891-data-v-0d20d4b5 3.6s linear infinite}.pageWrap .articleSkeleton .acticle-panel .like[data-v-0d20d4b5]:hover{background-image:url(https://img.yjdzm.com/zan-hover.91657d6.svg)}.pageWrap .articleSkeleton .acticle-panel .like[data-v-0d20d4b5]:after{content:attr(badge);position:absolute;top:0;left:75%;padding:.1rem .4rem;font-size:13px;text-align:center;line-height:1;white-space:nowrap;color:#fff;background-color:#b2bac2;border-radius:.7rem;transform-origin:left top;transform:scale(.75)}.pageWrap .articleSkeleton .acticle-panel .isLike[data-v-0d20d4b5]{-webkit-animation:none;animation:none}.pageWrap .articleSkeleton .acticle-panel .isLike[data-v-0d20d4b5],.pageWrap .articleSkeleton .acticle-panel .isLike[data-v-0d20d4b5]:hover{background-image:url(https://img.yjdzm.com/zan-active.svg)}.pageWrap .articleSkeleton .acticle-panel .isLike[data-v-0d20d4b5]:after{content:attr(badge);position:absolute;top:0;left:75%;padding:.1rem .4rem;font-size:13px;text-align:center;line-height:1;white-space:nowrap;color:#fff;background-color:#74ca46;border-radius:.7rem;transform-origin:left top;transform:scale(.75)}.pageWrap .articleSkeleton .acticle-panel .comment[data-v-0d20d4b5]{background-image:url(https://img.yjdzm.com/comment.7fc22c2.svg);background-position:50% 55%}.pageWrap .articleSkeleton .acticle-panel .comment[data-v-0d20d4b5]:hover{background-image:url(https://img.yjdzm.com/comment-hover.1074e67.svg)}.pageWrap .articleSkeleton .acticle-panel .comment[data-v-0d20d4b5]:after{content:attr(badge);position:absolute;top:0;left:75%;padding:.1rem .4rem;font-size:13px;text-align:center;line-height:1;white-space:nowrap;color:#fff;background-color:#b2bac2;border-radius:.7rem;transform-origin:left top;transform:scale(.75)}.pageWrap .articleSkeleton .acticle-panel .panel-btn[data-v-0d20d4b5]{position:relative;margin-bottom:.7rem;width:40px;height:40px;background-color:#fff;background-repeat:no-repeat;border-radius:50%;box-shadow:0 2px 4px 0 rgba(0,0,0,.04);cursor:pointer}.pageWrap .articleSkeleton .ArticleWrap[data-v-0d20d4b5]{float:left;max-width:750px;min-width:750px;padding:20px;background:#fff;margin:0 50px 0 120px;box-shadow:0 1px 2px 0 rgba(0,0,0,.05);border-radius:12px}.pageWrap .articleSkeleton .ArticleWrap .authorInfo[data-v-0d20d4b5]{display:flex}.pageWrap .articleSkeleton .ArticleWrap .authorInfo img[data-v-0d20d4b5]{width:40px;height:40px;border-radius:50%}.pageWrap .articleSkeleton .ArticleWrap .authorInfo .otherInfo[data-v-0d20d4b5]{text-align:left;margin-left:10px;flex-direction:column;display:flex;align-items:flex-start;color:#909090;font-size:13px}.pageWrap .articleSkeleton .ArticleWrap .authorInfo .otherInfo .name[data-v-0d20d4b5]{font-size:15px;color:#333}.pageWrap .articleSkeleton .ArticleWrap .authorInfo .otherInfo .time[data-v-0d20d4b5]{font-size:13px;display:flex}.pageWrap .articleSkeleton .ArticleWrap .ArticleDetail .content[data-v-0d20d4b5]{margin-top:40px;font-size:16px;padding:15px;position:relative}.pageWrap .articleSkeleton .ArticleWrap .ArticleDetail .content[data-v-0d20d4b5]  p{word-break:break-all;color:#333}.pageWrap .articleSkeleton .ArticleWrap .ArticleDetail .content[data-v-0d20d4b5]  span{font-family:Consolas!important}.pageWrap .articleSkeleton .ArticleWrap .ArticleDetail .content[data-v-0d20d4b5]  h1{color:#000;padding-bottom:10px;border-bottom:1px solid #eaecef;margin-bottom:10px}.pageWrap .articleSkeleton .ArticleWrap .ArticleDetail .content[data-v-0d20d4b5]  h2{padding-bottom:12px;font-size:24px;border-bottom:1px solid #eaecef;color:#000;margin-top:24px;margin-bottom:16px}.pageWrap .articleSkeleton .ArticleWrap .ArticleDetail .content[data-v-0d20d4b5]  pre .hljs{display:block;overflow-x:auto;padding:1em;color:#333;background:#f8f8f8;font-size:12px;border-radius:6px}.pageWrap .articleSkeleton .ArticleWrap .ArticleDetail .content[data-v-0d20d4b5]  pre .hljs ::-webkit-scrollbar{display:none!important}.pageWrap .articleSkeleton .ArticleWrap .ArticleDetail .content[data-v-0d20d4b5]  img{max-width:100%}.pageWrap .articleSkeleton .ArticleWrap .ArticleDetail .content[data-v-0d20d4b5]  ol{margin-left:20px}.pageWrap .articleSkeleton .ArticleWrap .ArticleDetail .commentTitle[data-v-0d20d4b5]{color:#8a9aa9;font-size:18px;text-align:center;padding:1.67rem 0 5px}.pageWrap .articleSkeleton .ArticleWrap .ArticleDetail #comment[data-v-0d20d4b5]{padding-top:60px;margin-top:-60px}.pageWrap .articleSkeleton .title-panel[data-v-0d20d4b5]{float:left}.pageWrap .articleSkeleton .title-panel .catalog-body[data-v-0d20d4b5]{position:fixed;margin:6px 0;overflow:scroll;height:600px;width:240px}.pageWrap .articleSkeleton .title-panel .catalog-body .catalog-list[data-v-0d20d4b5]{position:relative}.pageWrap .articleSkeleton .title-panel .catalog-body .catalog-list[data-v-0d20d4b5]:before{content:"";position:absolute;top:0;left:7px;bottom:0;width:2px;background-color:#ebedef;opacity:.5}@-webkit-keyframes tada_4891-data-v-0d20d4b5{0%{transform:scale(1)}5.55556%{transform:scale(.9) rotate(-8deg)}11.11111%{transform:scale(.9) rotate(-8deg)}16.66667%{transform:scale(1.3) rotate(8deg)}22.22222%{transform:scale(1.3) rotate(-8deg)}27.77778%{transform:scale(1.3) rotate(8deg)}33.33333%{transform:scale(1.3) rotate(-8deg)}38.88889%{transform:scale(1.3) rotate(8deg)}44.44444%{transform:scale(1) rotate(0)}to{transform:scale(1) rotate(0)}}@keyframes tada_4891-data-v-0d20d4b5{0%{transform:scale(1)}5.55556%{transform:scale(.9) rotate(-8deg)}11.11111%{transform:scale(.9) rotate(-8deg)}16.66667%{transform:scale(1.3) rotate(8deg)}22.22222%{transform:scale(1.3) rotate(-8deg)}27.77778%{transform:scale(1.3) rotate(8deg)}33.33333%{transform:scale(1.3) rotate(-8deg)}38.88889%{transform:scale(1.3) rotate(8deg)}44.44444%{transform:scale(1) rotate(0)}to{transform:scale(1) rotate(0)}}',""])},232:function(e,t,o){"use strict";o.r(t);var n=o(22),r=o(7),c=o(127),article=o(29),d=o(176),m={data:()=>({expressionSelect:!1,expressionUrl:c.a,forbidAdd:!1,baseUrl:"https://img.yjdzm.com"}),components:{Button:o(28).a,expressionBox:d.a},props:{userInfo:[Object],replyUserInfo:[Object],isShowAvavtar:{type:Boolean,default:!0},color:{type:String,default:"#fafbfc"},arUserID:{type:String},clearSubComment:[Function],blurHidden:[Boolean],isShowAcitonBox:{type:Boolean,default:!1},parentId:[String],noFocus:{type:Boolean,default:!1},subReply:[Boolean],changeSubCommentList:[Function],articleId:[String],changeReviewNum:[Function],reviewNum:[Number]},methods:{comment(){this.$refs.richInput.innerHTML?Object(article.k)({id:this.$route.params.id},{content:this.$refs.richInput.innerHTML.replace(/<(?!img|p|div|\/p).*?>/g,""),replyUserId:this.replyUserInfo.id,parentId:this.parentId?this.parentId:"",articleId:this.articleId}).then(e=>{200===e.code&&(this.forbidAdd=!1,this.$refs.richInput.innerHTML="",this.subReply?(this.changeReviewNum(this.reviewNum+1),this.changeSubCommentList(e.data,e.data.parent_id)):(this.changeReviewNum(this.reviewNum+1),this.$parent.changeCommentList()),this.clearSubComment())}):this.$Message.error("评论内容不能为空")},changeValue(){[...this.$refs.richInput.childNodes].filter(e=>1===e.nodeType&&"img"===e.tagName.toLocaleLowerCase()).length>=10?this.forbidAdd=!0:this.forbidAdd=!1},addExpressions(e){if(!0===this.forbidAdd)return void this.$Message.error("不能添加过多表情");const t=`<img src=${e.target.src}>`,template=document.createElement("template");void 0!==t&&(template.innerHTML=t,this.$refs.richInput.appendChild(template.content)),[...this.$refs.richInput.childNodes].filter(e=>1===e.nodeType&&"img"===e.tagName.toLocaleLowerCase()).length>=10?this.forbidAdd=!0:this.forbidAdd=!1},showBox(e){this.$refs.commentForm.contains(e.target)?this.$emit("handle",!0):""===this.$refs.richInput.innerHTML&&!0===this.blurHidden?this.$emit("handle",!1):""===this.$refs.richInput.innerHTML&&!0!==this.blurHidden&&document.hasFocus()&&document.activeElement!==this.$refs.richInput&&this.clearSubComment()},changeShow(e){this.expressionSelect=e}},mounted(){this.noFocus||this.$refs.richInput.focus(),this.$refs.richInput.addEventListener("paste",e=>{e.stopPropagation(),e.preventDefault();var text="",t=e.originalEvent||e;t.clipboardData&&t.clipboardData.getData?text=t.clipboardData.getData("text/plain"):window.clipboardData&&window.clipboardData.getData&&(text=window.clipboardData.getData("Text")),document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,text):document.execCommand("paste",!1,text)}),document.documentElement.addEventListener("click",this.showBox,!1)},destroyed(){document.documentElement.removeEventListener("click",this.showBox,!1)},watch:{isShowAcitonBox(){!1===this.isShowAcitonBox&&(this.expressionSelect=!1)}}},l=o(2);var h=Object(l.a)(m,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"comment-form",class:{focused:e.isShowAcitonBox},style:{"background-color":e.color}},[e._ssrNode((e.isShowAvavtar?'<div class="avatar-box" data-v-8658617c><div class="avatar"'+e._ssrStyle(null,{background:e.userInfo.avatar?"url("+e.userInfo.avatar+")":"url("+e.baseUrl+"/default-avatar.e30559a.svg)"},null)+" data-v-8658617c></div></div>":"\x3c!----\x3e")+" "),e._ssrNode('<div class="form-box" data-v-8658617c>',"</div>",[e._ssrNode('<div class="input-box" data-v-8658617c><div class="auth-card" data-v-8658617c><div contenteditable="true" spellcheck="false" class="rich-input" data-v-8658617c></div></div></div> '),e.isShowAcitonBox?e._ssrNode('<div class="action-box" data-v-8658617c>',"</div>",[o("expressionBox",{attrs:{expressionSelect:e.expressionSelect,changeShow:e.changeShow,addExpressions:e.addExpressions}}),e._ssrNode(" "),e._ssrNode('<div class="submit" data-v-8658617c>',"</div>",[o("Button",{attrs:{type:"success"},on:{click:e.comment}},[e._v("评论")])],1)],2):e._e()],2)],2)}),[],!1,(function(e){var t=o(213);t.__inject__&&t.__inject__(e)}),"8658617c","1473ddf2").exports,f={components:{contentEdit:h,Modal:o(30).a},props:{commentItem:[Object],UserToken:[String],userInfo:[Object],subCommentIndex:[String],showSubComment:[Function],itemIndex:[Number],arUserInfo:[Object],clearSubComment:[Function],commentParentId:[String],loginUserId:[String],articleId:[String],changeCommentList:[Function],changeReviewNum:[Function],reviewNum:[Number]},data:()=>({isShowCommentList:!1,topCommentListData:[],replyNum:0,hasNextPage:!1,loading:!1,next:null,isShowDelete:!1,deleteContent:"",deleteId:"",hasParent:!1,parentId:"",baseUrl:"https://img.yjdzm.com"}),methods:{seeTopCommentList(e){this.isShowCommentList=!this.isShowCommentList,this.topCommentListData.length>0||Object(article.n)({id:e}).then(e=>{this.topCommentListData=e.data.list,this.hasNextPage=e.data.hasNextPage,this.next=e.data.next})},changeSubCommentList(data,e){if(this.isShowCommentList=!0,this.topCommentListData.length<=0)Object(article.n)({id:e}).then(e=>{this.topCommentListData=e.data.list,this.replyNum=this.replyNum+1});else{let e=this.topCommentListData;e.unshift(data),this.topCommentListData=e,this.replyNum=this.replyNum+1}},getMoreSubList(e){this.loading=!0,Object(article.n)({id:e},{page:this.next}).then(e=>{200===e.code&&setTimeout(()=>{this.topCommentListData=this.topCommentListData.concat(e.data.list),this.hasNextPage=e.data.hasNextPage,this.next=e.data.next,this.loading=!1},500)})},ShowdeleteModal(e,t,o){this.isShowDelete=!0,this.deleteId=e,this.hasParent=t,this.parentId=o,this.deleteContent=t?"确定要删除该评论吗?":"删除评论后, 评论下的所有回复都会被删除"},deleteComment(){Object(article.h)({id:this.deleteId},{hasParent:this.hasParent,parentId:this.parentId,articleId:this.articleId}).then(e=>{200===e.code&&(this.isShowDelete=!1,this.$Message.success("删除评论成功"),this.hasParent?Object(article.n)({id:this.parentId}).then(e=>{this.changeReviewNum(this.reviewNum-1),this.topCommentListData=e.data.list,this.hasNextPage=e.data.hasNextPage,this.next=e.data.next,this.replyNum=this.replyNum-1}):(this.replyNum>0?this.changeReviewNum(this.reviewNum-this.replyNum-1):this.changeReviewNum(this.reviewNum-1),this.changeCommentList()))})}},mounted(){this.replyNum=this.commentItem.replyNum}};var v=Object(l.a)(f,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"comment-list"},[e._ssrNode('<div class="item" data-v-6b31e8ba>',"</div>",[e._ssrNode('<div class="comment" data-v-6b31e8ba>',"</div>",[e._ssrNode('<div class="user-avatar" data-v-6b31e8ba>',"</div>",[o("nuxt-link",{attrs:{to:"/home/"+e.commentItem.userInfo.id}},[o("div",{style:{background:e.commentItem.userInfo.avatar?"url("+e.commentItem.userInfo.avatar+")":"url("+e.baseUrl+"/default-avatar.e30559a.svg)"}})])],1),e._ssrNode(" "),e._ssrNode('<div class="content-box" data-v-6b31e8ba>',"</div>",[e._ssrNode('<div class="meta-box" data-v-6b31e8ba><span data-v-6b31e8ba>'+e._ssrEscape(e._s(e.commentItem.userInfo.name))+"</span> "+(e.commentItem.userInfo.id===e.arUserInfo.id?'<span class="author" data-v-6b31e8ba>作者</span>':"\x3c!----\x3e")+'</div> <div class="content" data-v-6b31e8ba>'+e._s(e.commentItem.content)+"</div> "),e._ssrNode('<div class="reply" data-v-6b31e8ba>',"</div>",[e._ssrNode('<div class="time" data-v-6b31e8ba><span data-v-6b31e8ba>'+e._ssrEscape(e._s(e._f("dateFormat")(e.commentItem.created)))+"</span> "+(e.loginUserId===e.commentItem.userInfo.id?'<span class="deleteBtn" data-v-6b31e8ba>删除</span>':"\x3c!----\x3e")+"</div> "),e._ssrNode('<div class="action-box" data-v-6b31e8ba>',"</div>",[e.UserToken?e._ssrNode('<div class="reply-box" data-v-6b31e8ba>',"</div>",[o("Icon",{attrs:{type:"ios-undo",size:"13"}}),e._ssrNode(" <span data-v-6b31e8ba>回复</span>")],2):e._e(),e._ssrNode(" "+(0!==e.replyNum?'<span class="reply-num-box" data-v-6b31e8ba>'+e._ssrEscape(e._s(e.isShowCommentList?"收起回复":"查看回复 "+e.replyNum))+"</span>":"\x3c!----\x3e"))],2)],2),e._ssrNode(" "),e._ssrNode('<div class="comment-form-reply" data-v-6b31e8ba>',"</div>",[e.subCommentIndex===e.commentItem._id?o("contentEdit",{attrs:{isShowAvavtar:!1,userInfo:e.userInfo,arUserID:e.arUserInfo.id,clearSubComment:e.clearSubComment,isShowAcitonBox:!0,replyUserInfo:e.commentItem.userInfo,parentId:e.commentItem._id,subReply:!0,changeSubCommentList:e.changeSubCommentList,articleId:e.articleId,changeReviewNum:e.changeReviewNum,reviewNum:e.reviewNum}}):e._e()],1),e._ssrNode(" "),e.isShowCommentList?e._ssrNode('<div class="sub-comment-list" data-v-6b31e8ba>',"</div>",[e._l(e.topCommentListData,(function(t,n){return e._ssrNode('<div class="item" data-v-6b31e8ba>',"</div>",[e._ssrNode('<div class="sub-comment" data-v-6b31e8ba>',"</div>",[e._ssrNode('<div class="sub-comment-row" data-v-6b31e8ba>',"</div>",[e._ssrNode('<div class="sub-comment-content-row" data-v-6b31e8ba>',"</div>",[e._ssrNode('<div class="sub-comment-content-box" data-v-6b31e8ba>',"</div>",[e._ssrNode('<div class="sub-user-avatar" data-v-6b31e8ba>',"</div>",[o("nuxt-link",{attrs:{to:"/home/"+t.userInfo.id}},[o("div",{style:{background:t.userInfo.avatar?"url("+t.userInfo.avatar+")":"url("+e.baseUrl+"/default-avatar.e30559a.svg)"}})])],1),e._ssrNode(" "),e._ssrNode('<div class="sub-user-content-box" data-v-6b31e8ba>',"</div>",[e._ssrNode('<div class="sub-user-name" data-v-6b31e8ba><span data-v-6b31e8ba>'+e._ssrEscape(e._s(t.userInfo.name))+"</span> "+(t.userInfo.id===e.arUserInfo.id?'<span class="author" data-v-6b31e8ba>作者</span>':"\x3c!----\x3e")+"</div> "),e._ssrNode('<div class="sub-user-content" data-v-6b31e8ba>',"</div>",[e._ssrNode('<span class="sub-user-conetent-reply-text" data-v-6b31e8ba>回复</span> '),e._ssrNode('<div class="replyUserName" data-v-6b31e8ba>',"</div>",[o("nuxt-link",{attrs:{to:"/home/"+t.respUserInfo.id}},[e._v(e._s(t.respUserInfo.name)+": ")])],1),e._ssrNode(' <span class="replyContent" data-v-6b31e8ba>'+e._s(t.content)+"</span>")],2),e._ssrNode(" "),e._ssrNode('<div class="sub-user-reply-box" data-v-6b31e8ba>',"</div>",[e._ssrNode('<div class="sub-time" data-v-6b31e8ba><span data-v-6b31e8ba>'+e._ssrEscape(e._s(e._f("dateFormat")(t.created)))+"</span> "+(e.loginUserId===t.userInfo.id?'<span class="deleteBtn" data-v-6b31e8ba>删除</span>':"\x3c!----\x3e")+"</div> "),e.UserToken?e._ssrNode('<div class="sub-action-box" data-v-6b31e8ba>',"</div>",[o("Icon",{attrs:{type:"ios-undo",size:"13"}}),e._ssrNode(" <span data-v-6b31e8ba>回复</span>")],2):e._e()],2),e._ssrNode(" "),e.subCommentIndex===t._id?o("contentEdit",{attrs:{isShowAvavtar:!1,userInfo:e.userInfo,color:"#fff",arUserID:e.arUserInfo.id,clearSubComment:e.clearSubComment,isShowAcitonBox:!0,replyUserInfo:t.userInfo,parentId:t.parent_id,subReply:!0,changeSubCommentList:e.changeSubCommentList,articleId:e.articleId,changeReviewNum:e.changeReviewNum,reviewNum:e.reviewNum}}):e._e()],2)],2)])])])])})),e._ssrNode(" "+(e.hasNextPage?'<span class="more" data-v-6b31e8ba>'+e._ssrEscape(" "+e._s(e.loading?"加载中...":"加载更多 > "))+"</span>":"\x3c!----\x3e"))],2):e._e()],2)],2)]),e._ssrNode(" "),o("Modal",{attrs:{visible:e.isShowDelete,title:"删除评论",mask:!0},on:{onOk:e.deleteComment,onCancle:function(t){e.isShowDelete=!1}}},[e._v("\n      "+e._s(e.deleteContent)+"\n  ")])],2)}),[],!1,(function(e){var t=o(215);t.__inject__&&t.__inject__(e)}),"6b31e8ba","2aa2cbfe").exports,x={props:{arUserInfo:[Object],loginUserId:[String],articleId:[String],changeReviewNum:[Function],reviewNum:[Number]},data:()=>({isShowAcitonBox:!1,commentValue:"",expressionUrl:c.a,expressionSelect:!1,allComment:[],subCommentIndex:null,baseUrl:"https://img.yjdzm.com",TopCommentIndex:-1,topCommentListData:[],hasNextPage:!1,loading:!1,next:null,show:!1}),components:{contentEdit:h,commentList:v},methods:{changeCommentList(){this.show=!1,Object(article.d)({id:this.$route.params.id}).then(e=>{setTimeout(()=>{this.allComment=e.data.list,this.hasNextPage=e.data.hasNextPage,this.next=e.data.next,this.show=!0},500)})},showSubComment(e){this.subCommentIndex=e},clearSubComment(){this.subCommentIndex=null},handleShowSend(e){this.isShowAcitonBox=e},getmoreComment(){this.loading=!0,this.next&&Object(article.d)({id:this.$route.params.id},{page:this.next}).then(e=>{200===e.code&&setTimeout(()=>{this.allComment=this.allComment.concat(e.data.list),this.hasNextPage=e.data.hasNextPage,this.next=e.data.next,this.loading=!1},500)})}},computed:{...Object(r.mapState)({userInfo:e=>e.login.userInfo,UserToken:e=>e.login.UserToken})},mounted(){Object(article.d)({id:this.$route.params.id}).then(e=>{setTimeout(()=>{this.allComment=e.data.list,this.hasNextPage=e.data.hasNextPage,this.next=e.data.next,this.show=!0},500)})}};var w=Object(l.a)(x,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"commentWrap"},[e.UserToken?e._e():e._ssrNode('<div class="noUser" data-v-e1acfef8>',"</div>",[e._ssrNode('<div class="comment-clear" data-v-e1acfef8>',"</div>",[e._ssrNode("<p data-v-e1acfef8>创作不易, 登录给作者点评下吧!</p> "),o("nuxt-link",{staticClass:"login-btn",attrs:{to:"/login"}},[e._v("\n      登录\n    ")]),e._ssrNode(" <img"+e._ssrAttr("src",e.baseUrl+"/wendaovip/shuai.gif")+" alt data-v-e1acfef8>")],2)]),e._ssrNode(" "),e.UserToken?o("contentEdit",{attrs:{userInfo:e.userInfo,arUserID:e.arUserInfo.id,blurHidden:!0,isShowAcitonBox:e.isShowAcitonBox,replyUserInfo:e.arUserInfo,clearSubComment:e.clearSubComment,noFocus:!0,articleId:e.articleId,changeReviewNum:e.changeReviewNum,reviewNum:e.reviewNum},on:{handle:e.handleShowSend}}):e._e(),e._ssrNode(" "),e.show?e._ssrNode("<div data-v-e1acfef8>","</div>",e._l(e.allComment,(function(t,n){return o("commentList",{key:n,attrs:{commentItem:t,subCommentIndex:e.subCommentIndex,showSubComment:e.showSubComment,UserToken:e.UserToken,userInfo:e.userInfo,itemIndex:n,arUserInfo:e.arUserInfo,clearSubComment:e.clearSubComment,changeCommentList:e.changeCommentList,commentParentId:t._id,loginUserId:e.loginUserId,articleId:e.articleId,changeReviewNum:e.changeReviewNum,reviewNum:e.reviewNum}})})),1):e._ssrNode('<div class="loading" data-v-e1acfef8>加载评论中.....</div>'),e._ssrNode(" "+(e.allComment.length<=0&&e.show?'<div class="noCommentBox" data-v-e1acfef8><img'+e._ssrAttr("src",e.baseUrl+"/null-1.png")+' style="width: 300px" data-v-e1acfef8> <div data-v-e1acfef8>暂无评论</div></div>':"\x3c!----\x3e")+" "+(e.hasNextPage&&e.show?'<span class="more" data-v-e1acfef8>'+e._ssrEscape(" "+e._s(e.loading?"加载中...":"查看更多 > ")+" ")+"</span>":"\x3c!----\x3e"))],2)}),[],!1,(function(e){var t=o(217);t.__inject__&&t.__inject__(e)}),"e1acfef8","215dad43").exports,_={name:"catelog",data:()=>({}),props:{catalogData:{type:Array},num:{type:Number},activeTop:[Number],changeTop:[Function],wrapTop:[Number]},computed:{classObj(){return{item:!0,d1:1===this.num,d2:2===this.num,d3:3===this.num}}},methods:{changeActive(e){this.changeTop(e.itemTop+this.wrapTop)}}};var y=Object(l.a)(_,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",e._l(e.catalogData,(function(t,n){return e._ssrNode("<li"+e._ssrClass(null,[e.classObj,{active:t.itemTop+e.wrapTop===e.activeTop}])+" data-v-51fd6eec>","</li>",[e._ssrNode("<a"+e._ssrAttr("href","#header-"+t.offsetTop)+" data-v-51fd6eec>"+e._ssrEscape(e._s(t.name))+"</a> "),t.children.length>0?e._ssrNode('<ul class="sub-list" data-v-51fd6eec>',"</ul>",[o("catelog",{attrs:{catalogData:t.children,num:e.num+1,activeTop:e.activeTop,changeTop:e.changeTop,wrapTop:e.wrapTop}})],1):e._e()],2)})),0)}),[],!1,(function(e){var t=o(219);t.__inject__&&t.__inject__(e)}),"51fd6eec","2f1ee4f9").exports,N=o(8),k={components:{catelog:y,comment:w},data:()=>({currName:["h1","h2","h3"],catalogData:[],activeTop:0,wrapTop:0,ScrollMap:"",isLike:!1,remainTime:0,hidden:"",storage:"",visibilityChange:"",timer:"",loginUserId:"",reviewNum:0,baseUrl:"https://img.yjdzm.com"}),layout:"blog",async asyncData({params:e,error:t}){try{const{data:data}=await Object(article.f)({id:e.id},{isDraft:0});return{detail:data}}catch(e){t({statusCode:404,message:"文章不存在"})}},computed:{...Object(r.mapState)({userInfo:e=>e.login.userInfo,UserToken:e=>e.login.UserToken})},mounted(){this.reviewNum=this.detail.review,Object(N.e)({token:this.UserToken}).then(e=>{200===e.code&&(this.loginUserId=e.id,this.handleVisibilityChange(),document.addEventListener(this.visibilityChange,this.handleVisibilityChange,!1))}),this.storage=new n.a,Object(article.e)({id:this.$route.params.id}).then(e=>{200===e.code&&(this.isLike=e.data.isPraise)}),this.$nextTick(()=>{const e=[...document.getElementsByClassName("content")[0].childNodes].filter(e=>1===e.nodeType).filter(e=>this.currName.includes(e.tagName.toLocaleLowerCase()));if(e.length<=0)return;const t=this.getElementToPageTop(e[0].parentElement.offsetTop,e[0].offsetParent);e.forEach((e,o)=>{e.style=0===o?"padding-top: 60px; margin-top: -40px":"padding-top: 80px; margin-top: -40px",e.setAttribute("id",`header-${e.offsetTop+t}`)});const o=[{titleLev:parseInt(e[0].tagName.slice(1)),name:e[0].innerText,offsetTop:e[0].offsetTop+t,children:[],itemTop:e[0].offsetTop}];var n=[];n.push(o[0].offsetTop);const r=e.slice(1).reduce((e,o)=>{let r=e.length-1;if(e[r].children.length>0){let c=e[e.length-1].children.length-1;e[r].children[c].titleLev<parseInt(o.tagName.slice(1))?(e[r].children[c].children.push({titleLev:parseInt(o.tagName.slice(1)),name:o.innerText,offsetTop:o.offsetTop+t,children:[],itemTop:o.offsetTop}),n.push(o.offsetTop+t)):e[r].children[c].titleLev>=parseInt(o.tagName.slice(1))&&this.pushObj(e[r],o,t,e,n)}else this.pushObj(e[r],o,t,e,n);return e},o);this.catalogData=r,this.activeTop=r[0].offsetTop,this.wrapTop=t;const c=e=>{e===n.length-1&&(e=n.length),this.activeTop!==n[e]&&this.changeTop(n[e-1])},data=n.reduce((e,t,o)=>(e.length<=0?e.push([{pervNum:0,nextNum:n[0]-20,index:1},c]):e.push([{pervNum:n[o-1],nextNum:n[o]-20,index:o},c]),e),[]);this.ScrollMap=new Map([...data]),window.addEventListener("scroll",()=>{[...this.ScrollMap].forEach(([e,t])=>{e.pervNum<document.documentElement.scrollTop&&document.documentElement.scrollTop<e.nextNum&&t.call(this,e.index)})})})},methods:{handleVisibilityChange(){if(void 0!==document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):void 0!==document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),!document[this.hidden]){if(this.loginUserId===this.detail.user_info.id)return;this.remainTime=0,this.upPageView()}},upPageView(){this.timer=setInterval(()=>{if(document[this.hidden]||this.remainTime>=60)clearTimeout(this.timer);else if(document[this.hidden]||(this.remainTime+=1),this.remainTime>=60){let e=this.storage.get("articleReaded");if(e||(e=[]),e.some(e=>e.id===this.$route.params.id&&e.userId))return;e.push({id:this.$route.params.id,expires:Date.now()+6e5}),this.storage.set("articleReaded",e),Object(article.o)({id:this.$route.params.id})}},1e3)},getElementToPageTop(e,t){return t.offsetParent?this.getElementToPageTop(e+t.parentElement.offsetTop,t.offsetParent):e},pushObj:(e,t,o,n,r)=>(e.titleLev<parseInt(t.tagName.slice(1))?(e.children.push({titleLev:parseInt(t.tagName.slice(1)),name:t.innerText,offsetTop:t.offsetTop+o,children:[],itemTop:t.offsetTop}),r.push(t.offsetTop+o)):e.titleLev>=parseInt(t.tagName.slice(1))&&(n.push({titleLev:parseInt(t.tagName.slice(1)),name:t.innerText,offsetTop:t.offsetTop+o,children:[],itemTop:t.offsetTop}),r.push(t.offsetTop+o)),e),changeTop(e){this.activeTop=e},changePath(){window.location.hash="",window.location.hash="comment"},handleLike(){this.userInfo.id?this.loginUserId!==this.detail.user_info.id?this.isLike?Object(article.m)({id:this.$route.params.id}).then(e=>{200===e.code&&(this.isLike=!1,this.detail.praise-=1)}):Object(article.b)({id:this.$route.params.id}).then(e=>{200===e.code&&(this.isLike=!0,this.detail.praise+=1)}):this.$Message.error("不能给自己点赞哦!"):this.$Message.error("登录后才可点赞")},changeReviewNum(e){this.reviewNum=e}},destroyed(){clearTimeout(this.timer),document.removeEventListener(this.visibilityChange,this.handleVisibilityChange,!1)}};var I=Object(l.a)(k,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"pageWrap"},[e._ssrNode('<div class="articleSkeleton" data-v-0d20d4b5>',"</div>",[e._ssrNode('<div class="acticle-panel" data-v-0d20d4b5><div'+e._ssrAttr("badge",e.detail.praise)+e._ssrClass("like panel-btn",{isLike:e.isLike})+" data-v-0d20d4b5></div> <div"+e._ssrAttr("badge",e.reviewNum)+' class="comment panel-btn" data-v-0d20d4b5></div></div> '),e._ssrNode('<div class="ArticleWrap" data-v-0d20d4b5>',"</div>",[e._ssrNode('<div class="ArticleDetail" data-v-0d20d4b5>',"</div>",[e._ssrNode('<h1 style="color: black; text-align: center" data-v-0d20d4b5>'+e._ssrEscape(e._s(e.detail.title))+"</h1> "),e._ssrNode('<div class="authorInfo" data-v-0d20d4b5>',"</div>",[o("nuxt-link",{attrs:{to:"/home/"+e.detail.user_info.id}},[o("img",{attrs:{src:e.detail.user_info.avatar?e.detail.user_info.avatar:e.baseUrl+"/default-avatar.e30559a.svg"}})]),e._ssrNode(" "),e._ssrNode('<div class="otherInfo" data-v-0d20d4b5>',"</div>",[e._ssrNode('<p class="name" data-v-0d20d4b5>'+e._ssrEscape(e._s(e.detail.user_info.name))+"</p> "),e._ssrNode('<div class="time" data-v-0d20d4b5>',"</div>",[e._ssrNode("<span data-v-0d20d4b5>"+e._ssrEscape(e._s(e._f("dateFormat")(e.detail.created)))+'</span> <span style="margin: 0 6px" data-v-0d20d4b5>'+e._ssrEscape("阅读: "+e._s(e.detail.read))+"</span> "),e.loginUserId===e.detail.user_info.id?o("nuxt-link",{staticClass:"draftIdBox",attrs:{to:"/write?draftId="+e.detail._id}},[e._v("\r\n                编辑\r\n              ")]):e._e()],2)],2)],2),e._ssrNode(' <div class="content" data-v-0d20d4b5>'+e._s(e.detail.content)+'</div> <p class="commentTitle" style="text-align: center" data-v-0d20d4b5>评论</p> '),o("comment",{attrs:{id:"comment",arUserInfo:e.detail.user_info,loginUserId:e.loginUserId,articleId:e.detail._id,changeReviewNum:e.changeReviewNum,reviewNum:e.reviewNum}})],2)]),e._ssrNode(" "),e._ssrNode('<div class="title-panel" data-v-0d20d4b5>',"</div>",[e._ssrNode('<div class="catalog-body" data-v-0d20d4b5>',"</div>",[e._ssrNode('<ul class="catalog-list" data-v-0d20d4b5>',"</ul>",[o("catelog",{attrs:{catalogData:e.catalogData,num:1,activeTop:e.activeTop,changeTop:e.changeTop,wrapTop:e.wrapTop}})],1)])])],2)])}),[],!1,(function(e){var t=o(221);t.__inject__&&t.__inject__(e)}),"0d20d4b5","78f628ec");t.default=I.exports}};